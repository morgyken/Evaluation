$(function(){$(".instructions").hide();$("#diagnosis_form input,#diagnosis_form textarea,#laboratory_form input,#laboratory_form textarea").blur(function(){a()});$("#laboratory_form .check,#diagnosis_form .check").click(function(){var c=$(this).parent().parent().find("input");var b=$(this).parent().parent().find("textarea");if($(this).is(":checked")){c.prop("disabled",false);b.prop("disabled",false);$(b).parent().show()}else{c.prop("disabled",true);b.prop("disabled",true);$(b).parent().hide()}$(this).prop("disabled",false);a()});function a(){$("#show_selection").hide();$("#diagnosisInfo > tbody > tr").remove();var b=0;$("#diagnosis_form input:checkbox:checked").each(function(){var d=$(this).val();var c=$("#name"+d).html();var e=$("#cost"+d).val();b+=parseInt(e);$("#diagnosisInfo > tbody").append("<tr><td>"+c+"</td><td>"+e+"</td></tr>")});$("#laboratory_form input:checkbox:checked").each(function(){var d=$(this).val();var c=$("#name"+d).html();var e=$("#cost"+d).val();b+=parseInt(e);$("#diagnosisInfo > tbody").append("<tr><td>"+c+"</td><td>"+e+"</td></tr>")});if(b){$("#diagnosisInfo > tbody").append("<tr><td>Total</td><td><strong>"+b+"</strong></td></tr>")}$("#show_selection").show()}$("#saveDiagnosis").click(function(b){b.preventDefault();$.ajax({type:"POST",url:DIAGNOSIS_URL,data:$("#diagnosis_form, #laboratory_form").serialize(),success:function(){alertify.success('<i class="fa fa-check-circle"></i> Patient evaluation updated')},error:function(){alertify.error('<i class="fa fa-check-warning"></i> Could not save evalaution')}});location.reload()});$("#laboratory_form").find("input:radio, input:checkbox").prop("checked",false);$("#diagnosis_form").find("input:radio, input:checkbox").prop("checked",false);$("#show_selection").hide()});