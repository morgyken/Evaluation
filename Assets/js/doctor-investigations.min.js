$(function(){function a(){$("#show_selection").hide(), $("#diagnosisInfo > tbody > tr").remove(); var a = 0; $("#diagnosis_form input:checkbox:checked").each(function(){var b = $(this).val(), c = $("#name" + b).html(), d = $("#cost" + b).val(); a += parseInt(d), $("#diagnosisInfo > tbody").append("<tr><td>" + c + "</td><td>" + d + "</td></tr>")}), $("#laboratory_form input:checkbox:checked").each(function(){var b = $(this).val(), c = $("#name" + b).html(), d = $("#cost" + b).val(); a += parseInt(d), $("#diagnosisInfo > tbody").append("<tr><td>" + c + "</td><td>" + d + "</td></tr>")}), $("#radiology_form input:checkbox:checked").each(function(){var b = $(this).val(), c = $("#name" + b).html(), d = $("#cost" + b).val(); a += parseInt(d), $("#diagnosisInfo > tbody").append("<tr><td>" + c + "</td><td>" + d + "</td></tr>")}), a && $("#diagnosisInfo > tbody").append("<tr><td>Total</td><td><strong>" + a + "</strong></td></tr>"), $("#show_selection").show()}$(".instructions").hide(), $("#radiology_form input,#radilogy_form textarea, #diagnosis_form input,#diagnosis_form textarea,#laboratory_form input,#laboratory_form textarea").blur(function(){a()}), $("#radiology_form .check,#laboratory_form .check,#diagnosis_form .check").click(function(){var b = $(this).parent().parent().find("input"), c = $(this).parent().parent().find("textarea"); $(this).is(":checked")?(b.prop("disabled", !1), c.prop("disabled", !1), $(c).parent().show()):(b.prop("disabled", !0), c.prop("disabled", !0), $(c).parent().hide()), $(this).prop("disabled", !1), a()}), $("#saveDiagnosis").click(function(a){a.preventDefault(), $.ajax({type:"POST", url:DIAGNOSIS_URL, data:$("#radiology_form,#diagnosis_form, #laboratory_form").serialize(), success:function(){alertify.success('<i class="fa fa-check-circle"></i> Patient evaluation updated'), location.reload()}, error:function(){alertify.error('<i class="fa fa-check-warning"></i> Could not save evalaution')}})}), $("#laboratory_form").find("input:radio, input:checkbox").prop("checked", !1), $("#diagnosis_form").find("input:radio, input:checkbox").prop("checked", !1), $("#radiology_form").find("input:radio, input:checkbox").prop("checked", !1), $("#show_selection").hide()});
//$(function(){$(".instructions").hide();$("#diagnosis_form input,#diagnosis_form textarea,#laboratory_form input,#laboratory_form textarea").blur(function(){a()});$("#laboratory_form .check,#diagnosis_form .check").click(function(){var c=$(this).parent().parent().find("input");var b=$(this).parent().parent().find("textarea");if($(this).is(":checked")){c.prop("disabled",false);b.prop("disabled",false);$(b).parent().show()}else{c.prop("disabled",true);b.prop("disabled",true);$(b).parent().hide()}$(this).prop("disabled",false);a()});function a(){$("#show_selection").hide();$("#diagnosisInfo > tbody > tr").remove();var b=0;$("#diagnosis_form input:checkbox:checked").each(function(){var d=$(this).val();var c=$("#name"+d).html();var e=$("#cost"+d).val();b+=parseInt(e);$("#diagnosisInfo > tbody").append("<tr><td>"+c+"</td><td>"+e+"</td></tr>")});$("#laboratory_form input:checkbox:checked").each(function(){var d=$(this).val();var c=$("#name"+d).html();var e=$("#cost"+d).val();b+=parseInt(e);$("#diagnosisInfo > tbody").append("<tr><td>"+c+"</td><td>"+e+"</td></tr>")});if(b){$("#diagnosisInfo > tbody").append("<tr><td>Total</td><td><strong>"+b+"</strong></td></tr>")}$("#show_selection").show()}$("#saveDiagnosis").click(function(b){b.preventDefault();$.ajax({type:"POST",url:DIAGNOSIS_URL,data:$("#diagnosis_form, #laboratory_form").serialize(),success:function(){alertify.success('<i class="fa fa-check-circle"></i> Patient evaluation updated');location.reload()},error:function(){alertify.error('<i class="fa fa-check-warning"></i> Could not save evalaution')}})});$("#laboratory_form").find("input:radio, input:checkbox").prop("checked",false);$("#diagnosis_form").find("input:radio, input:checkbox").prop("checked",false);$("#show_selection").hide()});