$(function(){function e(){var e='<td><select name="proc_item'+r+'" id="proc_item_'+r+'" class="select2-single" style="width: 100%"></select></td><td><input type="text" id="proc_price_'+r+'" name="proc_price'+r+'"/></td><td><button class="btn btn-xs btn-danger remove"><i class="fa fa-trash-o"></i></button></td>';$("#proc_addr"+r).html(e),$("#evaluation_order tbody").append('<tr id="proc_addr'+(r+1)+'"></tr>'),t(r),r++}function t(t){$("#proc_addr"+t+" select").select2({theme:"classic",placeholder:"Please select a procedure",formatNoMatches:function(){return"No matching procedure found"},formatInputTooShort:function(e,t){return"Please enter "+(t-e.length)+" more characters"},formatInputTooLong:function(e,t){return"Please enter "+(e.length-t)+" less characters"},formatSelectionTooBig:function(e){return"You can only select "+e+" proc_items"},formatLoadMore:function(e){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumInputLength:2,allowClear:!0,ajax:{url:PROCEDURE_URL,dataType:"json",cache:!0,data:function(e,t){return{term:e}},results:function(e,t){return{results:e}}}}),$("#proc_addr"+t+" select").on("select2:select",function(r){var n=$(this).find("option:selected").data().data.price;$("input[name=proc_price"+t+"]").val(n),e()}),$(".remove").click(function(e){e.preventDefault(),$(this).closest("tr").remove()})}$("#evaluation_order .check").click(function(){var e=$(this).parent().parent().find("input"),t=$(this).parent().parent().find("textarea");$(this).is(":checked")?(e.prop("disabled",!1),t.prop("disabled",!1),$(t).parent().show()):(e.prop("disabled",!0),t.prop("disabled",!0),$(t).parent().hide()),$(this).prop("disabled",!1)});var r=0;t(r),r++});