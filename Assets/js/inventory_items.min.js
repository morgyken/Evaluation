$(document).ready(function(){function e(){4===parseInt($("#category").val())?$("#labs").show():$("#labs").hide()}function t(){$("#has_items").is(":checked")?$("#items").removeClass("hidden"):$("#items").addClass("hidden")}function n(){$("#special_price").is(":checked")?$("#firm_prices").removeClass("hidden"):$("#firm_prices").addClass("hidden")}function a(e){$("#addr"+e+" select").select2({theme:"classic",placeholder:"Please select an item",formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){return"Please enter "+(t-e.length)+" more characters"},formatInputTooLong:function(e,t){return"Please enter "+(e.length-t)+" less characters"},formatSelectionTooBig:function(e){return"You can only select "+e+" items"},formatLoadMore:function(e){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumInputLength:2,allowClear:!0,ajax:{url:PRODUCTS_URL,dataType:"json",cache:!0,data:function(e,t){return{term:e}},results:function(e,t){return{results:e}}}}),$("#addr"+e+" select").on("select2:select",function(t){var n=$(this).find("option:selected").data().data.prices.price;$("input[name=price"+e+"]").val(n),calculate_total()}),$("#addr"+e+" input").keyup(function(){calculate_total()}),$(".remove").click(function(e){e.preventDefault(),$(this).closest("tr").remove()})}$("#data").DataTable(),$("#has_items").click(function(){t()}),$("#procedure_form").hover(function(){e()}),$("#category").change(function(){e()}),$("#category").click(function(){e()}),$("#has_items").click(function(){t()}),t(),$("#special_price").click(function(){n()}),n(),$("select[name=supplier]").select2({theme:"bootstrap"}),$(".date").datepicker({minDate:"0"});var c=1;$("#add_row").click(function(){var e='<td><select name="item'+c+'" class=" select2-single" style="width: 100%"></select></td><td><input type="text" name=\'qty'+c+'\' placeholder=\'Quantity\' value="1"/></td><td><button class="btn btn-xs btn-danger remove"><i class="fa fa-trash-o"></i></button></td>';$("#addr"+c).html(e),$("#tab_logic").append('<tr id="addr'+(c+1)+'"></tr>'),a(c),c++}),a(0)});